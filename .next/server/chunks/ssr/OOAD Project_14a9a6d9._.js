module.exports=[99925,(a,b,c)=>{"use strict";b.exports=a.r(67361).vendored["react-ssr"].ReactJsxRuntime},84288,(a,b,c)=>{"use strict";b.exports=a.r(67361).vendored["react-ssr"].ReactServerDOMTurbopackClient},75202,a=>{"use strict";var b=a.i(99925),c=a.i(86876),d=a.i(57327),e=a.i(77841),f=a.i(57110),g=a.i(1933),h=a.i(68097);function i(){let a=(0,e.useRouter)(),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{try{let b=await fetch("/api/me",{credentials:"include"});if(b.ok){let c=await b.json();if("student"!==c.data.role)return void a.push("/login");j(c.data)}else{let{data:b,error:c}=await d.default.auth.getSession();if(c||!b?.session)return void a.push("/login");let e=b.session.user,f=e.user_metadata?.role||"student";if("student"!==f)return void a.push("/login");try{await fetch("/api/auth/sync",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:b.session.access_token})})}catch(a){console.error("session sync error:",a)}j({id:e.id,name:e.user_metadata?.name||"",email:e.email,role:f})}let[c,e]=await Promise.all([fetch("/api/assignments",{credentials:"include"}),fetch("/api/quizzes",{credentials:"include"})]);if(c.ok){let a=await c.json();l(a.data)}if(e.ok){let a=await e.json();n(a.data)}}catch(a){console.error("Error loading data:",a)}finally{p(!1)}})()},[a]);let q=async()=>{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),a.push("/")};return o?(0,b.jsx)("div",{className:"p-4",children:"Loading..."}):(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"border-b",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Student Dashboard"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Welcome, ",i?.name]})]}),(0,b.jsx)(f.Button,{variant:"outline",onClick:q,children:"Logout"})]})}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Assignments"}),(0,b.jsx)("div",{className:"space-y-4",children:0===k.length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No assignments yet"}):k.map(a=>(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:a.title}),(0,b.jsxs)(g.CardDescription,{children:["Due: ",new Date(a.due_date).toLocaleDateString()]})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm mb-4",children:a.description}),(0,b.jsx)(h.default,{href:`/student/assignment/${a.id}`,children:(0,b.jsx)(f.Button,{size:"sm",children:"View & Submit"})})]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quizzes"}),(0,b.jsx)("div",{className:"space-y-4",children:0===m.length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No quizzes yet"}):m.map(a=>(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:a.title}),(0,b.jsxs)(g.CardDescription,{children:["Due: ",new Date(a.due_date).toLocaleDateString()]})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("p",{className:"text-sm mb-4",children:["Time limit: ",a.time_limit_minutes," minutes"]}),(0,b.jsx)(h.default,{href:`/student/quiz/${a.id}`,children:(0,b.jsx)(f.Button,{size:"sm",children:"Take Quiz"})})]})]},a.id))})]})]})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=OOAD%20Project_14a9a6d9._.js.map