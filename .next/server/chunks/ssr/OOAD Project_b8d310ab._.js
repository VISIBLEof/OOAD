module.exports=[99925,(a,b,c)=>{"use strict";b.exports=a.r(67361).vendored["react-ssr"].ReactJsxRuntime},15482,a=>{"use strict";var b=a.i(99925),c=a.i(86876),d=a.i(77841),e=a.i(57110),f=a.i(1933);function g(){let a,g=(0,d.useRouter)(),h=(0,d.useParams)(),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(0);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch(`/api/quizzes?quizId=${h.id}`);if(a.ok){let b=await a.json();if(b.data.length>0){let a=b.data[0];j(a),n(JSON.parse(a.questions||"[]")),p(Array(JSON.parse(a.questions||"[]").length).fill(null))}}}catch(a){console.error("Error loading quiz:",a)}})()},[h.id]);let A=async()=>{try{let a=await fetch(`/api/quizzes/${h.id}/start`,{method:"POST"});if(a.ok){let b=await a.json();l(b.data.attemptId),r(60*b.data.timeLimitMinutes),t(!0)}}catch(a){console.error("Error starting quiz:",a)}};(0,c.useEffect)(()=>{if(!s||q<=0)return;let a=setInterval(()=>{r(a=>a<=1?(B(),0):a-1)},1e3);return()=>clearInterval(a)},[s,q]);let B=async()=>{v(!0);try{let a=await fetch(`/api/quizzes/${h.id}/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attemptId:k,answers:o})});if(a.ok){let b=await a.json();z(b.data.score),x(!0)}}catch(a){console.error("Error submitting quiz:",a)}finally{v(!1)}};return i?(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"border-b",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsx)(e.Button,{variant:"ghost",onClick:()=>g.back(),children:"â† Back"})})}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8 max-w-2xl",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:i.title}),(0,b.jsxs)(f.CardDescription,{children:[i.time_limit_minutes," minute quiz"]})]}),(0,b.jsx)(f.CardContent,{className:"space-y-6",children:s?w?(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold",children:["Score: ",y,"%"]}),(0,b.jsx)(e.Button,{onClick:()=>g.back(),children:"Back to Dashboard"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Time Remaining:"}),(0,b.jsx)("span",{className:"text-2xl font-mono text-primary",children:(a=Math.floor(q/60),`${a}:${(q%60).toString().padStart(2,"0")}`)})]}),(0,b.jsx)("div",{className:"space-y-6",children:m.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 border rounded",children:[(0,b.jsxs)("p",{className:"font-semibold mb-4",children:[c+1,". ",a.question]}),"single"===a.type&&a.options&&(0,b.jsx)("div",{className:"space-y-2",children:a.options.map((a,d)=>(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:`question-${c}`,checked:o[c]===d,onChange:()=>{let a=[...o];a[c]=d,p(a)}}),a]},d))})]},a.id))}),(0,b.jsx)(e.Button,{onClick:B,disabled:u,className:"w-full",size:"lg",children:u?"Submitting...":"Submit Quiz"})]}):(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsxs)("p",{className:"text-muted-foreground",children:["This quiz has ",m.length," questions."]}),(0,b.jsx)(e.Button,{onClick:A,size:"lg",children:"Start Quiz"})]})})]})})]}):(0,b.jsx)("div",{className:"p-4",children:"Loading..."})}a.s(["default",()=>g])}];

//# sourceMappingURL=OOAD%20Project_b8d310ab._.js.map