{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Voltex/Downloads/OOAD%20Project/OOAD%20Project/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uLAAO,EAAC,IAAA,8JAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Voltex/Downloads/OOAD%20Project/OOAD%20Project/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,wLAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,yLAAI,GAAG;IAE9B,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Voltex/Downloads/OOAD%20Project/OOAD%20Project/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+PAAC;QACC,aAAU;QACV,WAAW,IAAA,mIAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Voltex/Downloads/OOAD%20Project/OOAD%20Project/app/student/page.tsx"],"sourcesContent":[" 'use client';\n\nimport { useEffect, useState } from 'react';\nimport supabase from '@/lib/supabaseClient';\nimport { useRouter } from 'next/navigation';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport Link from 'next/link';\n\ninterface Assignment {\n  id: string;\n  title: string;\n  description: string;\n  due_date: string;\n  max_points: number;\n}\n\ninterface Quiz {\n  id: string;\n  title: string;\n  due_date: string;\n  time_limit_minutes: number;\n}\n\nexport default function StudentDashboard() {\n  const router = useRouter();\n  const [user, setUser] = useState<any>(null);\n  const [assignments, setAssignments] = useState<Assignment[]>([]);\n  const [quizzes, setQuizzes] = useState<Quiz[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const meResponse = await fetch('/api/me', { credentials: 'include' });\n        if (!meResponse.ok) {\n          // Try a client-side Supabase session fallback before redirecting\n          const { data: sessionData, error: sessionError } = await supabase.auth.getSession();\n          if (sessionError || !sessionData?.session) {\n            router.push('/login');\n            return;\n          }\n\n          const user = sessionData.session.user;\n          const role = (user.user_metadata as any)?.role || 'student';\n          if (role !== 'student') {\n            router.push('/login');\n            return;\n          }\n\n          // attempt to sync the session to server (best-effort)\n          try {\n            await fetch('/api/auth/sync', {\n              method: 'POST',\n              credentials: 'include',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ access_token: (sessionData as any).session.access_token }),\n            });\n          } catch (syncErr) {\n            console.error('session sync error:', syncErr);\n          }\n\n          setUser({ id: user.id, name: (user.user_metadata as any)?.name || '', email: user.email, role });\n        } else {\n          const meData = await meResponse.json();\n          if (meData.data.role !== 'student') {\n            router.push('/login');\n            return;\n          }\n          setUser(meData.data);\n        }\n\n        const [assignmentsRes, quizzesRes] = await Promise.all([\n          fetch('/api/assignments', { credentials: 'include' }),\n          fetch('/api/quizzes', { credentials: 'include' }),\n        ]);\n\n        if (assignmentsRes.ok) {\n          const assignmentsData = await assignmentsRes.json();\n          setAssignments(assignmentsData.data);\n        }\n\n        if (quizzesRes.ok) {\n          const quizzesData = await quizzesRes.json();\n          setQuizzes(quizzesData.data);\n        }\n      } catch (error) {\n        console.error('Error loading data:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadData();\n  }, [router]);\n\n  const handleLogout = async () => {\n  await fetch('/api/auth/logout', { method: 'POST', credentials: 'include' });\n    router.push('/');\n  };\n\n  if (isLoading) return <div className=\"p-4\">Loading...</div>;\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"border-b\">\n        <div className=\"container mx-auto px-4 py-4 flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold\">Student Dashboard</h1>\n            <p className=\"text-sm text-muted-foreground\">Welcome, {user?.name}</p>\n          </div>\n          <Button variant=\"outline\" onClick={handleLogout}>\n            Logout\n          </Button>\n        </div>\n      </header>\n\n      <main className=\"container mx-auto px-4 py-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          <div>\n            <h2 className=\"text-xl font-semibold mb-4\">Assignments</h2>\n            <div className=\"space-y-4\">\n              {assignments.length === 0 ? (\n                <p className=\"text-muted-foreground\">No assignments yet</p>\n              ) : (\n                assignments.map((assignment) => (\n                  <Card key={assignment.id}>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">{assignment.title}</CardTitle>\n                      <CardDescription>\n                        Due: {new Date(assignment.due_date).toLocaleDateString()}\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-sm mb-4\">{assignment.description}</p>\n                      <Link href={`/student/assignment/${assignment.id}`}>\n                        <Button size=\"sm\">View & Submit</Button>\n                      </Link>\n                    </CardContent>\n                  </Card>\n                ))\n              )}\n            </div>\n          </div>\n\n          <div>\n            <h2 className=\"text-xl font-semibold mb-4\">Quizzes</h2>\n            <div className=\"space-y-4\">\n              {quizzes.length === 0 ? (\n                <p className=\"text-muted-foreground\">No quizzes yet</p>\n              ) : (\n                quizzes.map((quiz) => (\n                  <Card key={quiz.id}>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">{quiz.title}</CardTitle>\n                      <CardDescription>\n                        Due: {new Date(quiz.due_date).toLocaleDateString()}\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-sm mb-4\">Time limit: {quiz.time_limit_minutes} minutes</p>\n                      <Link href={`/student/quiz/${quiz.id}`}>\n                        <Button size=\"sm\">Take Quiz</Button>\n                      </Link>\n                    </CardContent>\n                  </Card>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPC;;;;;;;;AAwBc,SAAS;IACtB,MAAM,SAAS,IAAA,gKAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kOAAQ,EAAM;IACtC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kOAAQ,EAAe,EAAE;IAC/D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kOAAQ,EAAS,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,kOAAQ,EAAC;IAE3C,IAAA,mOAAS,EAAC;QACR,MAAM,WAAW;YACf,IAAI;gBACF,MAAM,aAAa,MAAM,MAAM,WAAW;oBAAE,aAAa;gBAAU;gBACnE,IAAI,CAAC,WAAW,EAAE,EAAE;oBAClB,iEAAiE;oBACjE,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,iJAAQ,CAAC,IAAI,CAAC,UAAU;oBACjF,IAAI,gBAAgB,CAAC,aAAa,SAAS;wBACzC,OAAO,IAAI,CAAC;wBACZ;oBACF;oBAEA,MAAM,OAAO,YAAY,OAAO,CAAC,IAAI;oBACrC,MAAM,OAAO,AAAC,KAAK,aAAa,EAAU,QAAQ;oBAClD,IAAI,SAAS,WAAW;wBACtB,OAAO,IAAI,CAAC;wBACZ;oBACF;oBAEA,sDAAsD;oBACtD,IAAI;wBACF,MAAM,MAAM,kBAAkB;4BAC5B,QAAQ;4BACR,aAAa;4BACb,SAAS;gCAAE,gBAAgB;4BAAmB;4BAC9C,MAAM,KAAK,SAAS,CAAC;gCAAE,cAAc,AAAC,YAAoB,OAAO,CAAC,YAAY;4BAAC;wBACjF;oBACF,EAAE,OAAO,SAAS;wBAChB,QAAQ,KAAK,CAAC,uBAAuB;oBACvC;oBAEA,QAAQ;wBAAE,IAAI,KAAK,EAAE;wBAAE,MAAM,AAAC,KAAK,aAAa,EAAU,QAAQ;wBAAI,OAAO,KAAK,KAAK;wBAAE;oBAAK;gBAChG,OAAO;oBACL,MAAM,SAAS,MAAM,WAAW,IAAI;oBACpC,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,WAAW;wBAClC,OAAO,IAAI,CAAC;wBACZ;oBACF;oBACA,QAAQ,OAAO,IAAI;gBACrB;gBAEA,MAAM,CAAC,gBAAgB,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;oBACrD,MAAM,oBAAoB;wBAAE,aAAa;oBAAU;oBACnD,MAAM,gBAAgB;wBAAE,aAAa;oBAAU;iBAChD;gBAED,IAAI,eAAe,EAAE,EAAE;oBACrB,MAAM,kBAAkB,MAAM,eAAe,IAAI;oBACjD,eAAe,gBAAgB,IAAI;gBACrC;gBAEA,IAAI,WAAW,EAAE,EAAE;oBACjB,MAAM,cAAc,MAAM,WAAW,IAAI;oBACzC,WAAW,YAAY,IAAI;gBAC7B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uBAAuB;YACvC,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACrB,MAAM,MAAM,oBAAoB;YAAE,QAAQ;YAAQ,aAAa;QAAU;QACvE,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,WAAW,qBAAO,+PAAC;QAAI,WAAU;kBAAM;;;;;;IAE3C,qBACE,+PAAC;QAAI,WAAU;;0BACb,+PAAC;gBAAO,WAAU;0BAChB,cAAA,+PAAC;oBAAI,WAAU;;sCACb,+PAAC;;8CACC,+PAAC;oCAAG,WAAU;8CAAqB;;;;;;8CACnC,+PAAC;oCAAE,WAAU;;wCAAgC;wCAAU,MAAM;;;;;;;;;;;;;sCAE/D,+PAAC,sJAAM;4BAAC,SAAQ;4BAAU,SAAS;sCAAc;;;;;;;;;;;;;;;;;0BAMrD,+PAAC;gBAAK,WAAU;0BACd,cAAA,+PAAC;oBAAI,WAAU;;sCACb,+PAAC;;8CACC,+PAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,+PAAC;oCAAI,WAAU;8CACZ,YAAY,MAAM,KAAK,kBACtB,+PAAC;wCAAE,WAAU;kDAAwB;;;;;+CAErC,YAAY,GAAG,CAAC,CAAC,2BACf,+PAAC,kJAAI;;8DACH,+PAAC,wJAAU;;sEACT,+PAAC,uJAAS;4DAAC,WAAU;sEAAW,WAAW,KAAK;;;;;;sEAChD,+PAAC,6JAAe;;gEAAC;gEACT,IAAI,KAAK,WAAW,QAAQ,EAAE,kBAAkB;;;;;;;;;;;;;8DAG1D,+PAAC,yJAAW;;sEACV,+PAAC;4DAAE,WAAU;sEAAgB,WAAW,WAAW;;;;;;sEACnD,+PAAC,wLAAI;4DAAC,MAAM,CAAC,oBAAoB,EAAE,WAAW,EAAE,EAAE;sEAChD,cAAA,+PAAC,sJAAM;gEAAC,MAAK;0EAAK;;;;;;;;;;;;;;;;;;2CAVb,WAAW,EAAE;;;;;;;;;;;;;;;;sCAmBhC,+PAAC;;8CACC,+PAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,+PAAC;oCAAI,WAAU;8CACZ,QAAQ,MAAM,KAAK,kBAClB,+PAAC;wCAAE,WAAU;kDAAwB;;;;;+CAErC,QAAQ,GAAG,CAAC,CAAC,qBACX,+PAAC,kJAAI;;8DACH,+PAAC,wJAAU;;sEACT,+PAAC,uJAAS;4DAAC,WAAU;sEAAW,KAAK,KAAK;;;;;;sEAC1C,+PAAC,6JAAe;;gEAAC;gEACT,IAAI,KAAK,KAAK,QAAQ,EAAE,kBAAkB;;;;;;;;;;;;;8DAGpD,+PAAC,yJAAW;;sEACV,+PAAC;4DAAE,WAAU;;gEAAe;gEAAa,KAAK,kBAAkB;gEAAC;;;;;;;sEACjE,+PAAC,wLAAI;4DAAC,MAAM,CAAC,cAAc,EAAE,KAAK,EAAE,EAAE;sEACpC,cAAA,+PAAC,sJAAM;gEAAC,MAAK;0EAAK;;;;;;;;;;;;;;;;;;2CAVb,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBpC"}}]
}